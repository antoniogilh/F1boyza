<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="fanelogo.png" />
  <title>F1 BOYZA – Penalty Points</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    #penaltyTable {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0 10px;
    }


    #penaltyTable th, #penaltyTable td {
      padding: 12px 15px;
      text-align: left;
      vertical-align: top;
      background-color: #1f1f1f;
      color: #f5f5f5;
      border-radius: 6px;
    }


    #penaltyTable th {
      background-color: #333;
    }


    #penaltyTable tr td div {
      margin-bottom: 6px;
    }
  </style>
</head>
<body>
<header class="hero small">
  <div class="overlay">
    <h1>Penalty Points</h1>
    <p>Hvem har tråkket i salaten?</p>
  </div>
</header>
<nav class="topnav">
  <div class="menu-toggle" onclick="toggleMenu()">☰</div>
  <div class="nav-links" id="navLinks">
    <a href="index.html">Forside</a>
    <a href="kalender.html">Kalender</a>
    <a href="resultater.html">Resultater</a>
    <a href="straff.html">Skammelig kjøring</a>
    <a href="Spinthatshit.html">Spin that SHIIIT</a>
  </div>
</nav>
<main class="container single">
  <section class="card">
    <h2>Oversikt over penalty points per fører</h2>
    <table id="penaltyTable">
      <thead>
      <tr>
        <th>Fører og poeng total</th>
        <th>Poeng og Hendelser</th>
      </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>
</main>
<footer>© F1 BOYZA</footer>

<script>
  fetch('straff')
    .then(r => r.json())
    .then(data => {
      const tbody = document.querySelector('#penaltyTable tbody');
      const grouped = {};


      data.penaltyPoints.forEach(p => {
        if (!grouped[p.fører]) grouped[p.fører] = { events: [], total: 0 };
        grouped[p.fører].events.push(p);
        grouped[p.fører].total += p.poeng;
      });


      Object.keys(grouped).forEach(fører => {
        let eventsHtml = '';
        grouped[fører].events.forEach(e => {
          eventsHtml += `<div><strong>${e.poeng}p</strong> – ${e.runde}: ${e.beskrivelse}</div>`;
        });


        tbody.innerHTML += `
<tr>
<td>${fører} (${grouped[fører].total}p)</td>
<td>${eventsHtml}</td>
</tr>
`;
      });
    });
</script>
<script>
  function toggleMenu() {
    document.getElementById("navLinks").classList.toggle("active");
  }
</script>
</body>
</html>

